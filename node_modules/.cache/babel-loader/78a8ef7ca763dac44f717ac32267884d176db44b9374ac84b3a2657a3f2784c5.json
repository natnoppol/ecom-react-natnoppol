{"ast":null,"code":"const addToCart = product => {\n  setCart(prevCart => {\n    const existingItem = prevCart.find(item => item.data.id === product.data.id);\n    let newCart;\n    if (existingItem) {\n      newCart = prevCart.map(item => item.data.id === product.data.id ? {\n        ...item,\n        quantity: item.quantity + 1\n      } : item);\n    } else {\n      newCart = [...prevCart, {\n        data: product.data,\n        quantity: 1\n      }];\n    }\n\n    // Updating localStorage after state is updated\n    localStorage.setItem(\"cart\", JSON.stringify(newCart));\n    return newCart;\n  });\n};","map":{"version":3,"names":["addToCart","product","setCart","prevCart","existingItem","find","item","data","id","newCart","map","quantity","localStorage","setItem","JSON","stringify"],"sources":["C:/Users/natno/OneDrive/เดสก์ท็อป/School-Project/ecom-react-natnoppol/src/hooks/CartContext.js"],"sourcesContent":["const addToCart = (product) => {\r\n  setCart((prevCart) => {\r\n      const existingItem = prevCart.find((item) => item.data.id === product.data.id);\r\n      let newCart;\r\n      \r\n      if (existingItem) {\r\n          newCart = prevCart.map((item) =>\r\n              item.data.id === product.data.id\r\n                  ? { ...item, quantity: item.quantity + 1 }\r\n                  : item\r\n          );\r\n      } else {\r\n          newCart = [...prevCart, { data: product.data, quantity: 1 }];\r\n      }\r\n      \r\n      // Updating localStorage after state is updated\r\n      localStorage.setItem(\"cart\", JSON.stringify(newCart));\r\n      \r\n      return newCart;\r\n  });\r\n};\r\n"],"mappings":"AAAA,MAAMA,SAAS,GAAIC,OAAO,IAAK;EAC7BC,OAAO,CAAEC,QAAQ,IAAK;IAClB,MAAMC,YAAY,GAAGD,QAAQ,CAACE,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,CAACC,EAAE,KAAKP,OAAO,CAACM,IAAI,CAACC,EAAE,CAAC;IAC9E,IAAIC,OAAO;IAEX,IAAIL,YAAY,EAAE;MACdK,OAAO,GAAGN,QAAQ,CAACO,GAAG,CAAEJ,IAAI,IACxBA,IAAI,CAACC,IAAI,CAACC,EAAE,KAAKP,OAAO,CAACM,IAAI,CAACC,EAAE,GAC1B;QAAE,GAAGF,IAAI;QAAEK,QAAQ,EAAEL,IAAI,CAACK,QAAQ,GAAG;MAAE,CAAC,GACxCL,IACV,CAAC;IACL,CAAC,MAAM;MACHG,OAAO,GAAG,CAAC,GAAGN,QAAQ,EAAE;QAAEI,IAAI,EAAEN,OAAO,CAACM,IAAI;QAAEI,QAAQ,EAAE;MAAE,CAAC,CAAC;IAChE;;IAEA;IACAC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACN,OAAO,CAAC,CAAC;IAErD,OAAOA,OAAO;EAClB,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}