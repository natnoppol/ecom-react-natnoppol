{"ast":null,"code":"import{useState}from\"react\";import{useCart}from\"../../hooks/CartContext\";import{useNavigate}from\"react-router-dom\";import{CheckoutContainer,CheckoutBackground,CheckoutResponsive}from\"../../components/ui/checkout\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CheckoutPage(){const{cart,clearCart}=useCart();const[selectedPayment,setSelectedPayment]=useState(\"card\");const navigate=useNavigate();const subtotal=cart.reduce((sum,item)=>{const priceToUse=item.data.price-item.data.discountedPrice;return sum+priceToUse*item.quantity;},0);const total=subtotal;// จัดการกับการส่งฟอร์ม (checkout)\nfunction handleCheckout(e){e.preventDefault();clearCart();navigate(\"/checkout-success\");}// นำทางกลับไปที่หน้าตะกร้า\nfunction prevToCart(){navigate(\"/cart\");}return/*#__PURE__*/_jsx(CheckoutContainer,{children:/*#__PURE__*/_jsxs(CheckoutBackground,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-extrabold text-gray-800 text-center\",children:\"Checkout\"}),/*#__PURE__*/_jsxs(CheckoutResponsive,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-800\",children:\"Choose your payment method\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid gap-4 sm:grid-cols-2 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"w-5 h-5 cursor-pointer\",id:\"card\",value:\"card\",checked:selectedPayment===\"card\",onChange:e=>setSelectedPayment(e.target.value)}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"card\",className:\"ml-4 flex gap-2 cursor-pointer\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://readymadeui.com/images/visa.webp\",className:\"w-12\",alt:\"card1\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://readymadeui.com/images/american-express.webp\",className:\"w-12\",alt:\"card2\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://readymadeui.com/images/master.webp\",className:\"w-12\",alt:\"card3\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"w-5 h-5 cursor-pointer\",id:\"paypal\",value:\"paypal\",checked:selectedPayment===\"paypal\",onChange:e=>setSelectedPayment(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"paypal\",className:\"ml-4 flex gap-2 cursor-pointer\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://readymadeui.com/images/paypal.webp\",className:\"w-20\",alt:\"paypalCard\"})})]})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8\",onSubmit:handleCheckout,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid sm:col-span-2 sm:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name of card holder\",className:\"px-4 py-3.5 bg-white text-gray-800 w-full text-sm border rounded-md focus:border-[#007bff] outline-none\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Postal code\",className:\"px-4 py-3.5 bg-white text-gray-800 w-full text-sm border rounded-md focus:border-[#007bff] outline-none\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Card number\",className:\"col-span-full px-4 py-3.5 bg-white text-gray-800 w-full text-sm border rounded-md focus:border-[#007bff] outline-none\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"EXP.\",className:\"px-4 py-3.5 bg-white text-gray-800 w-full text-sm border rounded-md focus:border-[#007bff] outline-none\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"CVV\",className:\"px-4 py-3.5 bg-white text-gray-800 w-full text-sm border rounded-md focus:border-[#007bff] outline-none\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 mt-8\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"px-7 py-3.5 text-sm tracking-wide bg-white hover:bg-gray-50 text-gray-800 rounded-md\",onClick:prevToCart,children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-7 py-3.5 text-sm tracking-wide bg-blue-600 text-white rounded-md hover:bg-blue-700\",children:\"Submit\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-md max-lg:-order-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-800\",children:\"Summary\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-gray-800 mt-6 space-y-3\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"flex flex-wrap gap-4 text-sm\",children:[\"Sub total\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"ml-auto font-bold\",children:[subtotal.toFixed(2),\"NOK\"]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex flex-wrap gap-4 text-base font-bold\",children:[\"Total \",/*#__PURE__*/_jsxs(\"span\",{className:\"ml-auto\",children:[total.toFixed(2),\"NOK\"]})]})]})]})]})]})});}export default CheckoutPage;","map":{"version":3,"names":["useState","useCart","useNavigate","CheckoutContainer","CheckoutBackground","CheckoutResponsive","jsx","_jsx","jsxs","_jsxs","CheckoutPage","cart","clearCart","selectedPayment","setSelectedPayment","navigate","subtotal","reduce","sum","item","priceToUse","data","price","discountedPrice","quantity","total","handleCheckout","e","preventDefault","prevToCart","children","className","type","id","value","checked","onChange","target","htmlFor","src","alt","onSubmit","placeholder","onClick","toFixed"],"sources":["C:/Users/natno/OneDrive/เดสก์ท็อป/School-Project/ecom-react-natnoppol/src/pages/checkout/CheckoutPage.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useCart } from \"../../hooks/CartContext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  CheckoutContainer,\r\n  CheckoutBackground,\r\n  CheckoutResponsive,\r\n} from \"../../components/ui/checkout\";\r\n\r\nfunction CheckoutPage() {\r\n  const { cart, clearCart } = useCart();\r\n  const [selectedPayment, setSelectedPayment] = useState(\"card\");\r\n  const navigate = useNavigate();\r\n\r\n  const subtotal = cart.reduce((sum, item) => {\r\n    const priceToUse = item.data.price - item.data.discountedPrice;\r\n    return sum + priceToUse * item.quantity;\r\n  }, 0);\r\n  const total = subtotal;\r\n\r\n  // จัดการกับการส่งฟอร์ม (checkout)\r\n  function handleCheckout(e) {\r\n    e.preventDefault();\r\n    clearCart();\r\n    navigate(\"/checkout-success\");\r\n  }\r\n\r\n  // นำทางกลับไปที่หน้าตะกร้า\r\n  function prevToCart() {\r\n    navigate(\"/cart\");\r\n  }\r\n\r\n  return (\r\n    <CheckoutContainer>\r\n      <CheckoutBackground>\r\n        <h2 className=\"text-3xl font-extrabold text-gray-800 text-center\">\r\n          Checkout\r\n        </h2>\r\n        <CheckoutResponsive>\r\n          <div className=\"lg:col-span-2\">\r\n            <h3 className=\"text-lg font-bold text-gray-800\">\r\n              Choose your payment method\r\n            </h3>\r\n            <div className=\"grid gap-4 sm:grid-cols-2 mt-4\">\r\n              <div className=\"flex items-center\">\r\n                <input\r\n                  type=\"radio\"\r\n                  className=\"w-5 h-5 cursor-pointer\"\r\n                  id=\"card\"\r\n                  value=\"card\"\r\n                  checked={selectedPayment === \"card\"}\r\n                  onChange={(e) => setSelectedPayment(e.target.value)}\r\n                />\r\n                <label\r\n                  htmlFor=\"card\"\r\n                  className=\"ml-4 flex gap-2 cursor-pointer\"\r\n                >\r\n                  <img\r\n                    src=\"https://readymadeui.com/images/visa.webp\"\r\n                    className=\"w-12\"\r\n                    alt=\"card1\"\r\n                  />\r\n                  <img\r\n                    src=\"https://readymadeui.com/images/american-express.webp\"\r\n                    className=\"w-12\"\r\n                    alt=\"card2\"\r\n                  />\r\n                  <img\r\n                    src=\"https://readymadeui.com/images/master.webp\"\r\n                    className=\"w-12\"\r\n                    alt=\"card3\"\r\n                  />\r\n                </label>\r\n              </div>\r\n              <div className=\"flex items-center\">\r\n                <input\r\n                  type=\"radio\"\r\n                  className=\"w-5 h-5 cursor-pointer\"\r\n                  id=\"paypal\"\r\n                  value=\"paypal\"\r\n                  checked={selectedPayment === \"paypal\"}\r\n                  onChange={(e) => setSelectedPayment(e.target.value)}\r\n                />\r\n                <label\r\n                  htmlFor=\"paypal\"\r\n                  className=\"ml-4 flex gap-2 cursor-pointer\"\r\n                >\r\n                  <img\r\n                    src=\"https://readymadeui.com/images/paypal.webp\"\r\n                    className=\"w-20\"\r\n                    alt=\"paypalCard\"\r\n                  />\r\n                </label>\r\n              </div>\r\n            </div>\r\n            <form className=\"mt-8\" onSubmit={handleCheckout}>\r\n              <div className=\"grid sm:col-span-2 sm:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Name of card holder\"\r\n                    className=\"px-4 py-3.5 bg-white text-gray-800 w-full text-sm border rounded-md focus:border-[#007bff] outline-none\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"Postal code\"\r\n                    className=\"px-4 py-3.5 bg-white text-gray-800 w-full text-sm border rounded-md focus:border-[#007bff] outline-none\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"Card number\"\r\n                    className=\"col-span-full px-4 py-3.5 bg-white text-gray-800 w-full text-sm border rounded-md focus:border-[#007bff] outline-none\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"EXP.\"\r\n                    className=\"px-4 py-3.5 bg-white text-gray-800 w-full text-sm border rounded-md focus:border-[#007bff] outline-none\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"CVV\"\r\n                    className=\"px-4 py-3.5 bg-white text-gray-800 w-full text-sm border rounded-md focus:border-[#007bff] outline-none\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex flex-wrap gap-4 mt-8\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"px-7 py-3.5 text-sm tracking-wide bg-white hover:bg-gray-50 text-gray-800 rounded-md\"\r\n                  onClick={prevToCart}\r\n                >\r\n                  Back\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"px-7 py-3.5 text-sm tracking-wide bg-blue-600 text-white rounded-md hover:bg-blue-700\"\r\n                >\r\n                  Submit\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div className=\"bg-white p-6 rounded-md max-lg:-order-1\">\r\n            <h3 className=\"text-lg font-bold text-gray-800\">Summary</h3>\r\n            <ul className=\"text-gray-800 mt-6 space-y-3\">\r\n              <li className=\"flex flex-wrap gap-4 text-sm\">\r\n                Sub total{\" \"}\r\n                <span className=\"ml-auto font-bold\">\r\n                  {subtotal.toFixed(2)}NOK\r\n                </span>\r\n              </li>\r\n              <hr />\r\n              <li className=\"flex flex-wrap gap-4 text-base font-bold\">\r\n                Total <span className=\"ml-auto\">{total.toFixed(2)}NOK</span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </CheckoutResponsive>\r\n      </CheckoutBackground>\r\n    </CheckoutContainer>\r\n  );\r\n}\r\n\r\nexport default CheckoutPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}