{"ast":null,"code":"import{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{Card,CardContent,CardDescription,CardHeader,CardTitle}from\"../components/ui/card\";import{PriceTag}from\"../components/ui/priceTag\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Homepage(){const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchProducts=async()=>{try{const res=await fetch(\"https://v2.api.noroff.dev/online-shop\");if(!res.ok){throw new Error(\"Network response was not ok\");}const data=await res.json();setProducts(data);console.log(data);}catch(error){setError(error.message);}finally{setLoading(false);}};fetchProducts();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-10\",children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-10 text-red-500\",children:[\"Error: \",error]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4\",children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Products\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\",children:products.data.map(product=>/*#__PURE__*/_jsx(\"li\",{className:\"product-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product.id),className:\"block\",children:/*#__PURE__*/_jsx(Card,{className:\"h-full\",children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"img\",{src:product.image.url||\"/default-image.jpg\",alt:product.title||\"Product Image\",className:\"w-full h-48 object-cover mb-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 \",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(\"h3\",{children:product.title})}),product.discountedPrice!==product.price&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center mt-2 bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs \\r sm:1/2 md:1/2 lg:w-1/2\",children:[\"Discout: \",product.discountedPrice,\" NOK\"]}),/*#__PURE__*/_jsx(CardDescription,{children:/*#__PURE__*/_jsx(PriceTag,{price:product.price,discountedPrice:product.discountedPrice})})]})]})})})},product.id))})]});}export default Homepage;","map":{"version":3,"names":["useEffect","useState","Link","Card","CardContent","CardDescription","CardHeader","CardTitle","PriceTag","jsx","_jsx","jsxs","_jsxs","Homepage","products","setProducts","loading","setLoading","error","setError","fetchProducts","res","fetch","ok","Error","data","json","console","log","message","className","children","map","product","to","concat","id","src","image","url","alt","title","discountedPrice","price"],"sources":["C:/Users/natno/OneDrive/เดสก์ท็อป/School-Project/ecom-react-natnoppol/src/pages/Homepage.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"../components/ui/card\"; \r\nimport { PriceTag } from \"../components/ui/priceTag\"; \r\n\r\nfunction Homepage() {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const res = await fetch(\"https://v2.api.noroff.dev/online-shop\");\r\n        if (!res.ok) {\r\n          throw new Error(\"Network response was not ok\");\r\n        }\r\n        const data = await res.json();\r\n        setProducts(data);\r\n        console.log(data)\r\n      } catch (error) {\r\n        setError(error.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center mt-10\">Loading...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"text-center mt-10 text-red-500\">Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4\">\r\n      <CardTitle>Products</CardTitle>\r\n      <ul className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n        {products.data.map((product) => (\r\n          <li key={product.id} className=\"product-item\">\r\n            <Link to={`/product/${product.id}`} className=\"block\">\r\n              <Card className=\"h-full\">\r\n                <CardContent>\r\n                  <img\r\n                    src={product.image.url || \"/default-image.jpg\"}\r\n                    alt={product.title || \"Product Image\"}\r\n                    className=\"w-full h-48 object-cover mb-4\"\r\n                    />\r\n                    <div className=\"p-6 \">\r\n                      <CardHeader>\r\n                        <h3>{product.title}</h3>\r\n                      </CardHeader>\r\n                      {product.discountedPrice !== product.price && (\r\n                        <div className=\"flex justify-center mt-2 bg-primary-100 text-primary-800 px-2 py-1 rounded-full text-xs \r\n                        sm:1/2 md:1/2 lg:w-1/2\">Discout: {product.discountedPrice} NOK</div>\r\n                      )}\r\n                      <CardDescription>\r\n                        <PriceTag price={product.price} discountedPrice={product.discountedPrice} />\r\n                      </CardDescription>\r\n                    </div>\r\n                </CardContent>\r\n              </Card>\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Homepage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}